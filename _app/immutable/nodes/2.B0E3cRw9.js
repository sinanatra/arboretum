import{s as q,n as x,d as m,i as j,p as G,r as re,O as Y,h as D,P as N,x as h,Q as oe,e as C,v as ze,z as Le,R as Ie,f as I,l as M,y as ie,k as S,j as B,m as T,t as F,S as Be,b as O,T as ce,U as Fe}from"../chunks/Cxw3WnS6.js";import{S as Q,i as J,d as $,t as H,a as R,m as ee,e as te,b as ae,c as Se,g as Te}from"../chunks/CGTxhxGg.js";import{i as Re,e as A,u as le,d as ne,a as ue,z as Ue,s as fe,m as Ve}from"../chunks/CcNL7MI7.js";const Oe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function he(o,e,t){const a=o.slice();return a[3]=e[t],a[5]=t,a}function _e(o){let e,t=[],a=new Map,r=A(o[0]);const l=s=>s[3].id||s[5];for(let s=0;s<r.length;s+=1){let n=he(o,r,s),i=l(n);a.set(i,t[s]=ge(i,n))}return{c(){e=N("g");for(let s=0;s<t.length;s+=1)t[s].c()},l(s){e=Y(s,"g",{});var n=D(e);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(m)},m(s,n){j(s,e,n);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(s,n){n&3&&(r=A(s[0]),t=le(t,n,l,1,s,r,a,e,ne,ge,null,he))},d(s){s&&m(e);for(let n=0;n<t.length;n+=1)t[n].d()}}}function ge(o,e){let t,a,r;return{key:o,first:null,c(){t=N("path"),this.h()},l(l){t=Y(l,"path",{d:!0,class:!0}),D(t).forEach(m),this.h()},h(){h(t,"d",a=e[1](e[3])),h(t,"class",r=oe("pixel "+e[3].properties.type)+" svelte-vrt0xx"),this.first=t},m(l,s){j(l,t,s)},p(l,s){e=l,s&3&&a!==(a=e[1](e[3]))&&h(t,"d",a),s&1&&r!==(r=oe("pixel "+e[3].properties.type)+" svelte-vrt0xx")&&h(t,"class",r)},d(l){l&&m(t)}}}function Ge(o){let e,t=o[0]&&o[1]&&_e(o);return{c(){t&&t.c(),e=G()},l(a){t&&t.l(a),e=G()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,[r]){a[0]&&a[1]?t?t.p(a,r):(t=_e(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:x,o:x,d(a){a&&m(e),t&&t.d(a)}}}function He(o,e,t){let{projection:a}=e,r=null,l=null;return re(async()=>{try{const n=await(await fetch("map/grid_5px.geojson")).json();t(0,r=n.features),t(1,l=Re().projection(a))}catch(s){console.error("Error loading map:",s)}}),o.$$set=s=>{"projection"in s&&t(2,a=s.projection)},[r,l,a]}class We extends Q{constructor(e){super(),J(this,e,He,Ge,q,{projection:2})}}const{Map:Xe}=Oe;function de(o,e,t){const a=o.slice();return a[15]=e[t],a}function me(o,e){let t,a,r,l,s,n,i;return{key:o,first:null,c(){t=N("circle"),this.h()},l(c){t=Y(c,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"fill-opacity":!0,stroke:!0,"stroke-width":!0,class:!0}),D(t).forEach(m),this.h()},h(){h(t,"cx",a=e[15].x),h(t,"cy",r=e[15].y),h(t,"r",l=e[15].radius),h(t,"fill",s=e[5](e[15].avgYear)),h(t,"fill-opacity",n=e[3].length>0&&e[3].includes(e[15])?1:.1),h(t,"stroke",i=e[5](e[15].avgYear)),h(t,"stroke-width","0.2"),h(t,"class","dot svelte-1rm5e1i"),this.first=t},m(c,u){j(c,t,u)},p(c,u){e=c,u&2&&a!==(a=e[15].x)&&h(t,"cx",a),u&2&&r!==(r=e[15].y)&&h(t,"cy",r),u&2&&l!==(l=e[15].radius)&&h(t,"r",l),u&2&&s!==(s=e[5](e[15].avgYear))&&h(t,"fill",s),u&10&&n!==(n=e[3].length>0&&e[3].includes(e[15])?1:.1)&&h(t,"fill-opacity",n),u&2&&i!==(i=e[5](e[15].avgYear))&&h(t,"stroke",i)},d(c){c&&m(t)}}}function qe(o){let e,t,a,r=[],l=new Xe,s;a=new We({props:{projection:o[0]}});let n=A(o[1]);const i=c=>c[15].id;for(let c=0;c<n.length;c+=1){let u=de(o,n,c),_=i(u);l.set(_,r[c]=me(_,u))}return{c(){e=N("svg"),t=N("g"),ae(a.$$.fragment);for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=Y(c,"svg",{width:!0,height:!0,class:!0});var u=D(e);t=Y(u,"g",{transform:!0});var _=D(t);te(a.$$.fragment,_);for(let g=0;g<r.length;g+=1)r[g].l(_);_.forEach(m),u.forEach(m),this.h()},h(){h(t,"transform",o[4]),h(e,"width","100%"),h(e,"height","100vh"),h(e,"class","svelte-1rm5e1i")},m(c,u){j(c,e,u),C(e,t),ee(a,t,null);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(t,null);o[10](e),s=!0},p(c,[u]){const _={};u&1&&(_.projection=c[0]),a.$set(_),u&42&&(n=A(c[1]),r=le(r,u,i,1,c,n,l,t,ne,me,null,de)),(!s||u&16)&&h(t,"transform",c[4])},i(c){s||(R(a.$$.fragment,c),s=!0)},o(c){H(a.$$.fragment,c),s=!1},d(c){c&&m(e),$(a);for(let u=0;u<r.length;u+=1)r[u].d();o[10](null)}}}const V=2.5,Qe=5,pe=1;function Je(o,e,t){let a,{data:r=[]}=e,{currentYear:l}=e,{selectedCuratorData:s=null}=e,{projection:n}=e,i,c=ue,u,_=[],g=[];const w={"1870s":"#184A2C","1880s":"#2A5D34","1890s":"#3C713C","1900s":"#4F8646","1910s":"#639C52","1920s":"#7BB35F","1930s":"#9DC46C","1940s":"#C1D67A","1950s":"#E1C169","1960s":"#D4A55C","1970s":"#C68850","1980s":"#B86B45","1990s":"#9C4E3A","2000s":"#80342F","2010s":"#662426",Unknown:"#CCCCCC"};function b(f){if(!f||isNaN(f))return w.Unknown;const d=`${Math.floor(f/10)*10}s`;return w[d]||w.Unknown}function p(){if(!r.length||!n||l==null)return[];const f=new Map;r.forEach((v,y)=>{const E=parseFloat(v.LONGITUDE),L=parseFloat(v.LATITUDE),P=parseInt(v.ACC_YR,10);if(isNaN(E)||isNaN(L)||isNaN(P))return;const[U,W]=n([E,L]);if(U==null||W==null||isNaN(U)||isNaN(W))return;const K=Math.floor(U/V),Z=Math.floor(W/V),z=`${K}-${Z}`,X=K*V+V/2,Me=Z*V+V/2,Pe=Math.max(0,l-P),Ae=Math.min(Pe/100,1),se={radius:(pe+Ae*(Qe-pe))/2,accYear:P,plantID:v.PLANTID?String(v.PLANTID).toLowerCase():String(y)};f.has(z)?f.get(z).records.push(se):f.set(z,{x:X,y:Me,records:[se]})});const d=[];for(const[v,y]of f){const{x:E,y:L,records:P}=y,U=P.length,W=P.reduce((z,X)=>z+X.radius,0)/U,K=Math.floor(P.reduce((z,X)=>z+X.accYear,0)/U),Z=P.map(z=>z.plantID);d.push({id:v,x:E,y:L,radius:W,avgYear:K,plantIDs:Z})}return d}re(async()=>{if(await ze(),!i)return;u=Ue().scaleExtent([2,14]).on("zoom",y=>{t(9,c=y.transform)}),fe(i).call(u);const f=i.clientWidth,d=i.clientHeight,v=ue.translate(f/2-2*(f/2.8),d/2-2*(d/2.2)).scale(2);fe(i).call(u.transform,v)});function k(f){Le[f?"unshift":"push"](()=>{i=f,t(2,i)})}return o.$$set=f=>{"data"in f&&t(6,r=f.data),"currentYear"in f&&t(7,l=f.currentYear),"selectedCuratorData"in f&&t(8,s=f.selectedCuratorData),"projection"in f&&t(0,n=f.projection)},o.$$.update=()=>{if(o.$$.dirty&512&&t(4,a=`translate(${c.x}, ${c.y}) scale(${c.k})`),o.$$.dirty&258)if(s!=null&&s.PlantDates){const f=[],d=[...s.PlantDates].sort((v,y)=>v.Date-y.Date);for(const v of d){const y=String(v.PlantID).toLowerCase(),E=_.find(L=>{var P;return(P=L.plantIDs)==null?void 0:P.includes(y)});E&&!f.includes(E)&&f.push(E)}t(3,g=f)}else t(3,g=[])},t(1,_=p()),[n,_,i,g,a,b,r,l,s,c,k]}class Ke extends Q{constructor(e){super(),J(this,e,Je,qe,q,{data:6,currentYear:7,selectedCuratorData:8,projection:0})}}function Ce(o,e,t){const a=o.slice();return a[2]=e[t],a}function ve(o){let e,t,a,r,l=o[2]+"",s,n;return{c(){e=M("div"),t=M("div"),a=T(),r=M("span"),s=F(l),n=T(),this.h()},l(i){e=I(i,"DIV",{class:!0});var c=D(e);t=I(c,"DIV",{class:!0,style:!0}),D(t).forEach(m),a=S(c),r=I(c,"SPAN",{class:!0});var u=D(r);s=B(u,l),u.forEach(m),n=S(c),c.forEach(m),this.h()},h(){h(t,"class","color-box svelte-mfvoar"),ie(t,"background-color",o[0][o[2]]),h(r,"class","label svelte-mfvoar"),h(e,"class","swatch-row svelte-mfvoar")},m(i,c){j(i,e,c),C(e,t),C(e,a),C(e,r),C(r,s),C(e,n)},p(i,c){c&1&&ie(t,"background-color",i[0][i[2]])},d(i){i&&m(e)}}}function Ze(o){let e,t,a=A(o[1]),r=[];for(let l=0;l<a.length;l+=1)r[l]=ve(Ce(o,a,l));return{c(){e=M("div"),t=M("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=I(l,"DIV",{class:!0});var s=D(e);t=I(s,"DIV",{class:!0});var n=D(t);for(let i=0;i<r.length;i+=1)r[i].l(n);n.forEach(m),s.forEach(m),this.h()},h(){h(t,"class","color-swatch-section svelte-mfvoar"),h(e,"class","legend-container svelte-mfvoar")},m(l,s){j(l,e,s),C(e,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(t,null)},p(l,[s]){if(s&3){a=A(l[1]);let n;for(n=0;n<a.length;n+=1){const i=Ce(l,a,n);r[n]?r[n].p(i,s):(r[n]=ve(i),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},i:x,o:x,d(l){l&&m(e),Ie(r,l)}}}function xe(o,e,t){let{clusterColorMapping:a}=e;const r=Object.keys(a);return o.$$set=l=>{"clusterColorMapping"in l&&t(0,a=l.clusterColorMapping)},[a,r]}class $e extends Q{constructor(e){super(),J(this,e,xe,Ze,q,{clusterColorMapping:0})}}function De(o,e,t){const a=o.slice();return a[14]=e[t],a}function ke(o,e,t){const a=o.slice();return a[21]=e[t],a}function et(o){const e=o.slice(),t=e[14].PlantDates.reduce((s,n)=>{const i=n.Date;return s[i]=(s[i]||0)+1,s},{});e[17]=t;const a=Object.entries(e[17]).sort((s,n)=>s[0]-n[0]);e[18]=a;const r=Math.max(...e[18].map(([s,n])=>n));e[19]=r;const l=e[18].map(function(...n){return o[11](e[19],...n)}).join(" ");return e[20]=l,e}function we(o){let e,t=o[6](o[14].CuratorName)+"",a;return{c(){e=M("p"),a=F(t),this.h()},l(r){e=I(r,"P",{class:!0});var l=D(e);a=B(l,t),l.forEach(m),this.h()},h(){h(e,"class","curator-info svelte-1uxudxj")},m(r,l){j(r,e,l),C(e,a)},p(r,l){l&4&&t!==(t=r[6](r[14].CuratorName)+"")&&O(a,t)},d(r){r&&m(e)}}}function be(o){let e,t,a,r,l,s,n,i=o[14].PlantDates.length+"",c,u,_=o[14].PlantDates.length===1?"":"s",g;function w(f,d){return f[14].PlantDates.length>1?je:tt}function b(f,d){return d===je?et(f):f}let p=w(o),k=p(b(o,p));return{c(){e=N("svg"),t=N("line"),k.c(),a=N("text"),r=F(o[0]),l=N("text"),s=F(o[1]),n=N("text"),c=F(i),u=F(" annotation"),g=F(_),this.h()},l(f){e=Y(f,"svg",{class:!0,width:!0,height:!0});var d=D(e);t=Y(d,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),D(t).forEach(m),k.l(d),a=Y(d,"text",{x:!0,y:!0,"font-size":!0,fill:!0,class:!0});var v=D(a);r=B(v,o[0]),v.forEach(m),l=Y(d,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var y=D(l);s=B(y,o[1]),y.forEach(m),n=Y(d,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var E=D(n);c=B(E,i),u=B(E," annotation"),g=B(E,_),E.forEach(m),d.forEach(m),this.h()},h(){h(t,"x1","10"),h(t,"y1","12"),h(t,"x2","310"),h(t,"y2","12"),h(t,"stroke","#ccc"),h(t,"stroke-width","1"),h(t,"class","svelte-1uxudxj"),h(a,"x","10"),h(a,"y","8"),h(a,"font-size","8"),h(a,"fill","#333"),h(a,"class","svelte-1uxudxj"),h(l,"x","310"),h(l,"y","8"),h(l,"font-size","8"),h(l,"fill","#333"),h(l,"text-anchor","end"),h(l,"class","svelte-1uxudxj"),h(n,"x","160"),h(n,"y","23"),h(n,"font-size","8"),h(n,"fill","#333"),h(n,"text-anchor","middle"),h(n,"class","svelte-1uxudxj"),h(e,"class","histogram svelte-1uxudxj"),h(e,"width","320"),h(e,"height","25")},m(f,d){j(f,e,d),C(e,t),k.m(e,null),C(e,a),C(a,r),C(e,l),C(l,s),C(e,n),C(n,c),C(n,u),C(n,g)},p(f,d){p===(p=w(f))&&k?k.p(b(f,p),d):(k.d(1),k=p(b(f,p)),k&&(k.c(),k.m(e,a))),d&1&&O(r,f[0]),d&2&&O(s,f[1]),d&4&&i!==(i=f[14].PlantDates.length+"")&&O(c,i),d&4&&_!==(_=f[14].PlantDates.length===1?"":"s")&&O(g,_)},d(f){f&&m(e),k.d()}}}function tt(o){let e,t=A(o[14].PlantDates),a=[];for(let r=0;r<t.length;r+=1)a[r]=ye(ke(o,t,r));return{c(){for(let r=0;r<a.length;r+=1)a[r].c();e=G()},l(r){for(let l=0;l<a.length;l+=1)a[l].l(r);e=G()},m(r,l){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(r,l);j(r,e,l)},p(r,l){if(l&36){t=A(r[14].PlantDates);let s;for(s=0;s<t.length;s+=1){const n=ke(r,t,s);a[s]?a[s].p(n,l):(a[s]=ye(n),a[s].c(),a[s].m(e.parentNode,e))}for(;s<a.length;s+=1)a[s].d(1);a.length=t.length}},d(r){r&&m(e),Ie(a,r)}}}function je(o){let e,t;return{c(){e=N("polyline"),this.h()},l(a){e=Y(a,"polyline",{fill:!0,stroke:!0,"stroke-width":!0,points:!0,class:!0}),D(e).forEach(m),this.h()},h(){h(e,"fill","none"),h(e,"stroke","green"),h(e,"stroke-width","1"),h(e,"points",t=o[20]),h(e,"class","svelte-1uxudxj")},m(a,r){j(a,e,r)},p(a,r){r&4&&t!==(t=a[20])&&h(e,"points",t)},d(a){a&&m(e)}}}function ye(o){let e,t;return{c(){e=N("circle"),this.h()},l(a){e=Y(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),D(e).forEach(m),this.h()},h(){h(e,"cx",t=o[5](o[21].Date)),h(e,"cy","12"),h(e,"r","1"),h(e,"class","svelte-1uxudxj")},m(a,r){j(a,e,r)},p(a,r){r&4&&t!==(t=a[5](a[21].Date))&&h(e,"cx",t)},d(a){a&&m(e)}}}function Ee(o,e){let t,a,r=Ye(e[14].CuratorName)+"",l,s,n,i,c,u,_=e[14].CuratorName===e[3]&&we(e),g=e[14].PlantDates&&e[14].PlantDates.length>0&&be(e);function w(){return e[12](e[14])}return{key:o,first:null,c(){t=M("li"),a=M("p"),l=F(r),s=T(),_&&_.c(),n=T(),g&&g.c(),i=T(),this.h()},l(b){t=I(b,"LI",{class:!0});var p=D(t);a=I(p,"P",{class:!0});var k=D(a);l=B(k,r),k.forEach(m),s=S(p),_&&_.l(p),n=S(p),g&&g.l(p),i=S(p),p.forEach(m),this.h()},h(){h(a,"class","curator-name svelte-1uxudxj"),h(t,"class","svelte-1uxudxj"),ce(t,"selected",e[14].CuratorName===e[3]),this.first=t},m(b,p){j(b,t,p),C(t,a),C(a,l),C(t,s),_&&_.m(t,null),C(t,n),g&&g.m(t,null),C(t,i),c||(u=Fe(t,"click",w),c=!0)},p(b,p){e=b,p&4&&r!==(r=Ye(e[14].CuratorName)+"")&&O(l,r),e[14].CuratorName===e[3]?_?_.p(e,p):(_=we(e),_.c(),_.m(t,n)):_&&(_.d(1),_=null),e[14].PlantDates&&e[14].PlantDates.length>0?g?g.p(e,p):(g=be(e),g.c(),g.m(t,i)):g&&(g.d(1),g=null),p&12&&ce(t,"selected",e[14].CuratorName===e[3])},d(b){b&&m(t),_&&_.d(),g&&g.d(),c=!1,u()}}}function at(o){let e,t,a,r,l=[],s=new Map,n;t=new $e({props:{clusterColorMapping:o[7]}});let i=A(o[2]);const c=u=>u[14].CuratorName;for(let u=0;u<i.length;u+=1){let _=De(o,i,u),g=c(_);s.set(g,l[u]=Ee(g,_))}return{c(){e=M("aside"),ae(t.$$.fragment),a=T(),r=M("ul");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){e=I(u,"ASIDE",{class:!0});var _=D(e);te(t.$$.fragment,_),a=S(_),r=I(_,"UL",{class:!0});var g=D(r);for(let w=0;w<l.length;w+=1)l[w].l(g);g.forEach(m),_.forEach(m),this.h()},h(){h(r,"class","svelte-1uxudxj"),h(e,"class","curator-sidebar svelte-1uxudxj")},m(u,_){j(u,e,_),ee(t,e,null),C(e,a),C(e,r);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(r,null);n=!0},p(u,[_]){_&127&&(i=A(u[2]),l=le(l,_,c,1,u,i,s,r,ne,Ee,null,De))},i(u){n||(R(t.$$.fragment,u),n=!0)},o(u){H(t.$$.fragment,u),n=!1},d(u){u&&m(e),$(t);for(let _=0;_<l.length;_+=1)l[_].d()}}}function rt(o){return o&&o.length>0?Math.min(...o):1/0}function Ye(o){return o.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function lt(o,e,t){let a,r,{minYear:l}=e,{maxYear:s}=e,{curatorData:n=[]}=e,{curatorInfoData:i=[]}=e,{initialCurator:c=""}=e;const u=Be();function _(f){t(3,r=f);const d=n.find(v=>v.CuratorName.toLowerCase()===f.toLowerCase());u("curatorChange",{selectedCuratorData:d})}function g(f){return s===l?160:10+(f-l)/(s-l)*300}function w(f){const d=i.find(v=>v.Name.toLowerCase()===f.toLowerCase());return(d==null?void 0:d.Information)||""}const b={"1870s":"#184A2C","1880s":"#2A5D34","1890s":"#3C713C","1900s":"#4F8646","1910s":"#639C52","1920s":"#7BB35F","1930s":"#9DC46C","1940s":"#C1D67A","1950s":"#E1C169","1960s":"#D4A55C","1970s":"#C68850","1980s":"#B86B45","1990s":"#9C4E3A","2000s":"#80342F","2010s":"#662426",Unknown:"#CCCCCC"},p=(f,[d,v])=>{const y=g(+d),L=12-(6+v/f*6);return`${y},${L}`},k=f=>_(f.CuratorName);return o.$$set=f=>{"minYear"in f&&t(0,l=f.minYear),"maxYear"in f&&t(1,s=f.maxYear),"curatorData"in f&&t(8,n=f.curatorData),"curatorInfoData"in f&&t(9,i=f.curatorInfoData),"initialCurator"in f&&t(10,c=f.initialCurator)},o.$$.update=()=>{o.$$.dirty&256&&t(2,a=n.map(f=>{var d;return{...f,minDate:rt((d=f.PlantDates)==null?void 0:d.map(v=>v.Date))}}).sort((f,d)=>f.minDate-d.minDate)),o.$$.dirty&1028&&t(3,r=c||(a.length>0?a[0].CuratorName:""))},[l,s,a,r,_,g,w,b,n,i,c,p,k]}class nt extends Q{constructor(e){super(),J(this,e,lt,at,q,{minYear:0,maxYear:1,curatorData:8,curatorInfoData:9,initialCurator:10})}}function Ne(o){let e,t,a,r,l,s;return a=new Ke({props:{data:o[0],currentYear:o[3],selectedCuratorData:o[6],minYear:o[4],maxYear:o[5],projection:o[7]}}),l=new nt({props:{curatorData:o[1],curatorInfoData:o[2],minYear:o[4],maxYear:o[5]}}),l.$on("curatorChange",o[8]),{c(){e=M("div"),t=M("div"),ae(a.$$.fragment),r=T(),ae(l.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var i=D(e);t=I(i,"DIV",{class:!0});var c=D(t);te(a.$$.fragment,c),c.forEach(m),r=S(i),te(l.$$.fragment,i),i.forEach(m),this.h()},h(){h(t,"class","main svelte-1tjw1ao"),h(e,"class","container svelte-1tjw1ao")},m(n,i){j(n,e,i),C(e,t),ee(a,t,null),C(e,r),ee(l,e,null),s=!0},p(n,i){const c={};i&1&&(c.data=n[0]),i&8&&(c.currentYear=n[3]),i&64&&(c.selectedCuratorData=n[6]),i&16&&(c.minYear=n[4]),i&32&&(c.maxYear=n[5]),i&128&&(c.projection=n[7]),a.$set(c);const u={};i&2&&(u.curatorData=n[1]),i&4&&(u.curatorInfoData=n[2]),i&16&&(u.minYear=n[4]),i&32&&(u.maxYear=n[5]),l.$set(u)},i(n){s||(R(a.$$.fragment,n),R(l.$$.fragment,n),s=!0)},o(n){H(a.$$.fragment,n),H(l.$$.fragment,n),s=!1},d(n){n&&m(e),$(a),$(l)}}}function st(o){let e,t,a=o[0].length>0&&o[1].length>0&&o[2].length>0&&o[7]&&Ne(o);return{c(){a&&a.c(),e=G()},l(r){a&&a.l(r),e=G()},m(r,l){a&&a.m(r,l),j(r,e,l),t=!0},p(r,[l]){r[0].length>0&&r[1].length>0&&r[2].length>0&&r[7]?a?(a.p(r,l),l&135&&R(a,1)):(a=Ne(r),a.c(),R(a,1),a.m(e.parentNode,e)):a&&(Te(),H(a,1,1,()=>{a=null}),Se())},i(r){t||(R(a),t=!0)},o(r){H(a),t=!1},d(r){r&&m(e),a&&a.d(r)}}}let ot=1e3,it=800;function ct(o,e,t){let a=[],r=[],l=[],s=2011,n,i,c=null,u=[],_=null;re(async()=>{const w=await fetch("data/ArnArbPlantsinfo.json");t(0,a=await w.json()),t(4,n=Math.min(...a.map(d=>parseInt(d.ACC_YR)))),t(5,i=Math.max(...a.map(d=>parseInt(d.ACC_YR)))),t(3,s=i);const b=await fetch("data/Curator_Plants_Dates.json");t(1,r=await b.json()),r.length>0&&t(6,c=r[0]);const p=await fetch("data/Curatorinfo.json");t(2,l=await p.json()),console.log(l),u=(await(await fetch("map/grid_3px.geojson")).json()).features,t(7,_=Ve().fitExtent([[0,0],[ot,it]],{type:"FeatureCollection",features:u}))});function g(w){t(6,c=w.detail.selectedCuratorData)}return[a,r,l,s,n,i,c,_,g]}class dt extends Q{constructor(e){super(),J(this,e,ct,st,q,{})}}export{dt as component};
