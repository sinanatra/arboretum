import{s as X,n as $,d,i as k,p as O,r as ne,O as Y,h as D,P as N,x as f,Q as ie,R as se,e as v,v as Me,z as qe,f as I,l as A,y as ce,k as S,j as z,m as T,t as F,S as ze,T as ue,U as Fe,b as V}from"../chunks/Cxw3WnS6.js";import{S as Q,i as J,d as ee,t as G,a as R,m as te,e as ae,b as le,c as Le,g as Be}from"../chunks/CGTxhxGg.js";import{i as Re,e as q,u as Ne,d as Ie,a as fe,z as Se,s as he,m as Te}from"../chunks/CcNL7MI7.js";function _e(o,e,t){const a=o.slice();return a[3]=e[t],a[5]=t,a}function ge(o){let e,t=[],a=new Map,n=q(o[0]);const s=i=>i[3].id||i[5];for(let i=0;i<n.length;i+=1){let l=_e(o,n,i),r=s(l);a.set(r,t[i]=de(r,l))}return{c(){e=N("g");for(let i=0;i<t.length;i+=1)t[i].c()},l(i){e=Y(i,"g",{});var l=D(e);for(let r=0;r<t.length;r+=1)t[r].l(l);l.forEach(d)},m(i,l){k(i,e,l);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(i,l){l&3&&(n=q(i[0]),t=Ne(t,l,s,1,i,n,a,e,Ie,de,null,_e))},d(i){i&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function de(o,e){let t,a,n;return{key:o,first:null,c(){t=N("path"),this.h()},l(s){t=Y(s,"path",{d:!0,class:!0}),D(t).forEach(d),this.h()},h(){f(t,"d",a=e[1](e[3])),f(t,"class",n=ie("pixel "+e[3].properties.type)+" svelte-vrt0xx"),this.first=t},m(s,i){k(s,t,i)},p(s,i){e=s,i&3&&a!==(a=e[1](e[3]))&&f(t,"d",a),i&1&&n!==(n=ie("pixel "+e[3].properties.type)+" svelte-vrt0xx")&&f(t,"class",n)},d(s){s&&d(t)}}}function Ue(o){let e,t=o[0]&&o[1]&&ge(o);return{c(){t&&t.c(),e=O()},l(a){t&&t.l(a),e=O()},m(a,n){t&&t.m(a,n),k(a,e,n)},p(a,[n]){a[0]&&a[1]?t?t.p(a,n):(t=ge(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(a){a&&d(e),t&&t.d(a)}}}function Ve(o,e,t){let{projection:a}=e,n=null,s=null;return ne(async()=>{try{const l=await(await fetch("map/grid_5px.geojson")).json();t(0,n=l.features),t(1,s=Re().projection(a))}catch(i){console.error("Error loading map:",i)}}),o.$$set=i=>{"projection"in i&&t(2,a=i.projection)},[n,s,a]}class Oe extends Q{constructor(e){super(),J(this,e,Ve,Ue,X,{projection:2})}}function me(o,e,t){const a=o.slice();return a[14]=e[t],a}function pe(o){let e,t,a,n,s,i,l;return{c(){e=N("circle"),this.h()},l(r){e=Y(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"fill-opacity":!0,stroke:!0,"stroke-width":!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"cx",t=o[14].x),f(e,"cy",a=o[14].y),f(e,"r",n=o[14].radius),f(e,"fill",s=o[5](o[14].avgYear)),f(e,"fill-opacity",i=o[3].length?o[3].includes(o[14])?1:.1:1),f(e,"stroke",l=o[5](o[14].avgYear)),f(e,"stroke-width","0.2"),f(e,"class","dot svelte-4aocx0")},m(r,u){k(r,e,u)},p(r,u){u&4&&t!==(t=r[14].x)&&f(e,"cx",t),u&4&&a!==(a=r[14].y)&&f(e,"cy",a),u&4&&n!==(n=r[14].radius)&&f(e,"r",n),u&4&&s!==(s=r[5](r[14].avgYear))&&f(e,"fill",s),u&12&&i!==(i=r[3].length?r[3].includes(r[14])?1:.1:1)&&f(e,"fill-opacity",i),u&4&&l!==(l=r[5](r[14].avgYear))&&f(e,"stroke",l)},d(r){r&&d(e)}}}function Ge(o){let e,t,a,n,s;a=new Oe({props:{projection:o[0]}});let i=q(o[2]),l=[];for(let r=0;r<i.length;r+=1)l[r]=pe(me(o,i,r));return{c(){e=N("svg"),t=N("g"),le(a.$$.fragment);for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=Y(r,"svg",{class:!0});var u=D(e);t=Y(u,"g",{transform:!0});var h=D(t);ae(a.$$.fragment,h);for(let _=0;_<l.length;_+=1)l[_].l(h);h.forEach(d),u.forEach(d),this.h()},h(){f(t,"transform",n="translate("+o[4].x+", "+o[4].y+") scale("+o[4].k+")"),f(e,"class","svelte-4aocx0")},m(r,u){k(r,e,u),v(e,t),te(a,t,null);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(t,null);o[9](e),s=!0},p(r,[u]){const h={};if(u&1&&(h.projection=r[0]),a.$set(h),u&44){i=q(r[2]);let _;for(_=0;_<i.length;_+=1){const p=me(r,i,_);l[_]?l[_].p(p,u):(l[_]=pe(p),l[_].c(),l[_].m(t,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=i.length}(!s||u&16&&n!==(n="translate("+r[4].x+", "+r[4].y+") scale("+r[4].k+")"))&&f(t,"transform",n)},i(r){s||(R(a.$$.fragment,r),s=!0)},o(r){G(a.$$.fragment,r),s=!1},d(r){r&&d(e),ee(a),se(l,r),o[9](null)}}}const B=4;function He(o,e,t){let{data:a=[]}=e,{currentYear:n}=e,{selectedCuratorData:s=null}=e,{projection:i}=e,l,r=[],u=[],h=fe,_;const p=B/2;function j(){if(!a||!l||!i||n===void 0)return[];const c=new Map;a.forEach((m,w)=>{const b=parseFloat(m.LONGITUDE),M=parseFloat(m.LATITUDE),E=parseInt(m.ACC_YR);if(isNaN(b)||isNaN(M)||isNaN(E))return;const[U,K]=i([b,M]);if(!U||!K)return;const Z=Math.floor(U/B),x=Math.floor(K/B),H=`${Z}-${x}`,re=Z*B+B/2,L=x*B+B/2,W=Math.max(0,n-E),Ae=Math.min(W/100,1),Pe=Math.max(.5,Ae*p),oe={accYear:E,radius:Pe,plantID:m.PLANTID?String(m.PLANTID).toLowerCase():String(w)};c.has(H)?c.get(H).records.push(oe):c.set(H,{x:re,y:L,records:[oe]})});const g=[];for(const[m,w]of c.entries()){const{x:b,y:M,records:E}=w,U=E.length,K=E.reduce((L,W)=>L+W.radius,0),Z=E.reduce((L,W)=>L+W.accYear,0),x=K/U,H=Math.floor(Z/U),re=E.map(L=>L.plantID);g.push({id:m,x:b,y:M,avgYear:H,radius:x,plantIDs:re,count:U})}return g}ne(async()=>{if(await Me(),!l)return;_=Se().scaleExtent([2,14]).on("zoom",E=>{t(4,h=E.transform)}),he(l).call(_);const c=l.clientWidth,g=l.clientHeight,m=2,w=c/2-m*(c/2.8),b=g/2-m*(g/2.2),M=fe.translate(w,b).scale(m);he(l).call(_.transform,M),t(4,h=M)});const P={"1870s":"#154406","1880s":"#2E5912","1890s":"#4A6F1D","1900s":"#67862A","1910s":"#839E38","1920s":"#9FB748","1930s":"#BCCF5A","1940s":"#DAC86A","1950s":"#F5B94F","1960s":"#E0963C","1970s":"#C06B2B","1980s":"#A34826","1990s":"#883421","2000s":"#6E241D","2010s":"#541916",Unknown:"#A0A0A0"};function y(c){if(!c||isNaN(c))return P.Unknown;const g=`${Math.floor(c/10)*10}s`;return P[g]||P.Unknown}function C(c){qe[c?"unshift":"push"](()=>{l=c,t(1,l)})}return o.$$set=c=>{"data"in c&&t(6,a=c.data),"currentYear"in c&&t(7,n=c.currentYear),"selectedCuratorData"in c&&t(8,s=c.selectedCuratorData),"projection"in c&&t(0,i=c.projection)},o.$$.update=()=>{if(o.$$.dirty&194&&a&&l&&n!==void 0&&t(2,r=j()),o.$$.dirty&260)if(s!=null&&s.PlantDates){const c=[],g=[...s.PlantDates].sort((m,w)=>m.Date-w.Date);for(const m of g){const w=String(m.PlantID).toLowerCase(),b=r.find(M=>{var E;return(E=M.plantIDs)==null?void 0:E.includes(w)});b&&!c.includes(b)&&c.push(b)}t(3,u=c)}else t(3,u=[])},[i,l,r,u,h,y,a,n,s,C]}class We extends Q{constructor(e){super(),J(this,e,He,Ge,X,{data:6,currentYear:7,selectedCuratorData:8,projection:0})}}function ve(o,e,t){const a=o.slice();return a[2]=e[t],a}function De(o){let e,t,a,n,s=o[2]+"",i,l;return{c(){e=A("div"),t=A("div"),a=T(),n=A("span"),i=F(s),l=T(),this.h()},l(r){e=I(r,"DIV",{class:!0});var u=D(e);t=I(u,"DIV",{class:!0,style:!0}),D(t).forEach(d),a=S(u),n=I(u,"SPAN",{class:!0});var h=D(n);i=z(h,s),h.forEach(d),l=S(u),u.forEach(d),this.h()},h(){f(t,"class","color-box svelte-uqwyjj"),ce(t,"background-color",o[0][o[2]]),f(n,"class","label svelte-uqwyjj"),f(e,"class","swatch-row svelte-uqwyjj")},m(r,u){k(r,e,u),v(e,t),v(e,a),v(e,n),v(n,i),v(e,l)},p(r,u){u&1&&ce(t,"background-color",r[0][r[2]])},d(r){r&&d(e)}}}function Xe(o){let e,t,a=q(o[1]),n=[];for(let s=0;s<a.length;s+=1)n[s]=De(ve(o,a,s));return{c(){e=A("div"),t=A("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var i=D(e);t=I(i,"DIV",{class:!0});var l=D(t);for(let r=0;r<n.length;r+=1)n[r].l(l);l.forEach(d),i.forEach(d),this.h()},h(){f(t,"class","color-swatch-section svelte-uqwyjj"),f(e,"class","legend-container svelte-uqwyjj")},m(s,i){k(s,e,i),v(e,t);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(s,[i]){if(i&3){a=q(s[1]);let l;for(l=0;l<a.length;l+=1){const r=ve(s,a,l);n[l]?n[l].p(r,i):(n[l]=De(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},i:$,o:$,d(s){s&&d(e),se(n,s)}}}function Qe(o,e,t){let{clusterColorMapping:a}=e;const n=Object.keys(a);return o.$$set=s=>{"clusterColorMapping"in s&&t(0,a=s.clusterColorMapping)},[a,n]}class Je extends Q{constructor(e){super(),J(this,e,Qe,Xe,X,{clusterColorMapping:0})}}function ke(o,e,t){const a=o.slice();return a[14]=e[t],a}function Ce(o,e,t){const a=o.slice();return a[21]=e[t],a}function Ke(o){const e=o.slice(),t=e[14].PlantDates.reduce((i,l)=>{const r=l.Date;return i[r]=(i[r]||0)+1,i},{});e[17]=t;const a=Object.entries(e[17]).sort((i,l)=>i[0]-l[0]);e[18]=a;const n=Math.max(...e[18].map(([i,l])=>l));e[19]=n;const s=e[18].map(function(...l){return o[11](e[19],...l)}).join(" ");return e[20]=s,e}function be(o){let e,t=o[14].CuratorName+"",a,n,s,i=o[6](o[14].CuratorName)+"",l;return{c(){e=A("p"),a=F(t),n=T(),s=A("p"),l=F(i),this.h()},l(r){e=I(r,"P",{class:!0});var u=D(e);a=z(u,t),u.forEach(d),n=S(r),s=I(r,"P",{class:!0});var h=D(s);l=z(h,i),h.forEach(d),this.h()},h(){f(e,"class","curator-name svelte-bqdjus"),f(s,"class","curator-info svelte-bqdjus")},m(r,u){k(r,e,u),v(e,a),k(r,n,u),k(r,s,u),v(s,l)},p(r,u){u&4&&t!==(t=r[14].CuratorName+"")&&V(a,t),u&4&&i!==(i=r[6](r[14].CuratorName)+"")&&V(l,i)},d(r){r&&(d(e),d(n),d(s))}}}function je(o){let e,t,a,n,s,i,l,r=o[14].PlantDates.length+"",u,h,_=o[14].PlantDates.length===1?"":"s",p;function j(c,g){return c[14].PlantDates.length>1?we:Ze}function P(c,g){return g===we?Ke(c):c}let y=j(o),C=y(P(o,y));return{c(){e=N("svg"),t=N("line"),C.c(),a=N("text"),n=F(o[0]),s=N("text"),i=F(o[1]),l=N("text"),u=F(r),h=F(" annotation"),p=F(_),this.h()},l(c){e=Y(c,"svg",{class:!0,width:!0,height:!0});var g=D(e);t=Y(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),D(t).forEach(d),C.l(g),a=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,class:!0});var m=D(a);n=z(m,o[0]),m.forEach(d),s=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var w=D(s);i=z(w,o[1]),w.forEach(d),l=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var b=D(l);u=z(b,r),h=z(b," annotation"),p=z(b,_),b.forEach(d),g.forEach(d),this.h()},h(){f(t,"x1","10"),f(t,"y1","12"),f(t,"x2","310"),f(t,"y2","12"),f(t,"stroke","#ccc"),f(t,"stroke-width","1"),f(t,"class","svelte-bqdjus"),f(a,"x","10"),f(a,"y","8"),f(a,"font-size","8"),f(a,"fill","#333"),f(a,"class","svelte-bqdjus"),f(s,"x","310"),f(s,"y","8"),f(s,"font-size","8"),f(s,"fill","#333"),f(s,"text-anchor","end"),f(s,"class","svelte-bqdjus"),f(l,"x","160"),f(l,"y","23"),f(l,"font-size","8"),f(l,"fill","#333"),f(l,"text-anchor","middle"),f(l,"class","svelte-bqdjus"),f(e,"class","histogram svelte-bqdjus"),f(e,"width","320"),f(e,"height","25")},m(c,g){k(c,e,g),v(e,t),C.m(e,null),v(e,a),v(a,n),v(e,s),v(s,i),v(e,l),v(l,u),v(l,h),v(l,p)},p(c,g){y===(y=j(c))&&C?C.p(P(c,y),g):(C.d(1),C=y(P(c,y)),C&&(C.c(),C.m(e,a))),g&1&&V(n,c[0]),g&2&&V(i,c[1]),g&4&&r!==(r=c[14].PlantDates.length+"")&&V(u,r),g&4&&_!==(_=c[14].PlantDates.length===1?"":"s")&&V(p,_)},d(c){c&&d(e),C.d()}}}function Ze(o){let e,t=q(o[14].PlantDates),a=[];for(let n=0;n<t.length;n+=1)a[n]=ye(Ce(o,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=O()},l(n){for(let s=0;s<a.length;s+=1)a[s].l(n);e=O()},m(n,s){for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(n,s);k(n,e,s)},p(n,s){if(s&36){t=q(n[14].PlantDates);let i;for(i=0;i<t.length;i+=1){const l=Ce(n,t,i);a[i]?a[i].p(l,s):(a[i]=ye(l),a[i].c(),a[i].m(e.parentNode,e))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(n){n&&d(e),se(a,n)}}}function we(o){let e,t;return{c(){e=N("polyline"),this.h()},l(a){e=Y(a,"polyline",{fill:!0,stroke:!0,"stroke-width":!0,points:!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"fill","none"),f(e,"stroke","blue"),f(e,"stroke-width","1"),f(e,"points",t=o[20]),f(e,"class","svelte-bqdjus")},m(a,n){k(a,e,n)},p(a,n){n&4&&t!==(t=a[20])&&f(e,"points",t)},d(a){a&&d(e)}}}function ye(o){let e,t;return{c(){e=N("circle"),this.h()},l(a){e=Y(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"cx",t=o[5](o[21].Date)),f(e,"cy","12"),f(e,"r","1"),f(e,"class","svelte-bqdjus")},m(a,n){k(a,e,n)},p(a,n){n&4&&t!==(t=a[5](a[21].Date))&&f(e,"cx",t)},d(a){a&&d(e)}}}function Ee(o,e){let t,a,n,s,i,l=e[14].CuratorName===e[3]&&be(e),r=e[14].PlantDates&&e[14].PlantDates.length>0&&je(e);function u(){return e[12](e[14])}return{key:o,first:null,c(){t=A("li"),l&&l.c(),a=T(),r&&r.c(),n=T(),this.h()},l(h){t=I(h,"LI",{class:!0});var _=D(t);l&&l.l(_),a=S(_),r&&r.l(_),n=S(_),_.forEach(d),this.h()},h(){f(t,"class","svelte-bqdjus"),ue(t,"selected",e[14].CuratorName===e[3]),this.first=t},m(h,_){k(h,t,_),l&&l.m(t,null),v(t,a),r&&r.m(t,null),v(t,n),s||(i=Fe(t,"click",u),s=!0)},p(h,_){e=h,e[14].CuratorName===e[3]?l?l.p(e,_):(l=be(e),l.c(),l.m(t,a)):l&&(l.d(1),l=null),e[14].PlantDates&&e[14].PlantDates.length>0?r?r.p(e,_):(r=je(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),_&12&&ue(t,"selected",e[14].CuratorName===e[3])},d(h){h&&d(t),l&&l.d(),r&&r.d(),s=!1,i()}}}function xe(o){let e,t,a,n,s=[],i=new Map,l;t=new Je({props:{clusterColorMapping:o[7]}});let r=q(o[2]);const u=h=>h[14].CuratorName;for(let h=0;h<r.length;h+=1){let _=ke(o,r,h),p=u(_);i.set(p,s[h]=Ee(p,_))}return{c(){e=A("aside"),le(t.$$.fragment),a=T(),n=A("ul");for(let h=0;h<s.length;h+=1)s[h].c();this.h()},l(h){e=I(h,"ASIDE",{class:!0});var _=D(e);ae(t.$$.fragment,_),a=S(_),n=I(_,"UL",{class:!0});var p=D(n);for(let j=0;j<s.length;j+=1)s[j].l(p);p.forEach(d),_.forEach(d),this.h()},h(){f(n,"class","svelte-bqdjus"),f(e,"class","curator-sidebar svelte-bqdjus")},m(h,_){k(h,e,_),te(t,e,null),v(e,a),v(e,n);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);l=!0},p(h,[_]){_&127&&(r=q(h[2]),s=Ne(s,_,u,1,h,r,i,n,Ie,Ee,null,ke))},i(h){l||(R(t.$$.fragment,h),l=!0)},o(h){G(t.$$.fragment,h),l=!1},d(h){h&&d(e),ee(t);for(let _=0;_<s.length;_+=1)s[_].d()}}}function $e(o){return o&&o.length>0?Math.min(...o):1/0}function et(o,e,t){let a,n,{minYear:s}=e,{maxYear:i}=e,{curatorData:l=[]}=e,{curatorInfoData:r=[]}=e,{initialCurator:u=""}=e;const h=ze();function _(c){t(3,n=c);const g=l.find(m=>m.CuratorName.toLowerCase()===c.toLowerCase());h("curatorChange",{selectedCuratorData:g})}function p(c){return i===s?160:10+(c-s)/(i-s)*300}function j(c){const g=r.find(m=>m.Name.toLowerCase()===c.toLowerCase());return(g==null?void 0:g.Information)||""}const P={"1870s":"#154406","1880s":"#2E5912","1890s":"#4A6F1D","1900s":"#67862A","1910s":"#839E38","1920s":"#9FB748","1930s":"#BCCF5A","1940s":"#DAC86A","1950s":"#F5B94F","1960s":"#E0963C","1970s":"#C06B2B","1980s":"#A34826","1990s":"#883421","2000s":"#6E241D","2010s":"#541916",Unknown:"#A0A0A0"},y=(c,[g,m])=>{const w=p(+g),M=12-(6+m/c*6);return`${w},${M}`},C=c=>_(c.CuratorName);return o.$$set=c=>{"minYear"in c&&t(0,s=c.minYear),"maxYear"in c&&t(1,i=c.maxYear),"curatorData"in c&&t(8,l=c.curatorData),"curatorInfoData"in c&&t(9,r=c.curatorInfoData),"initialCurator"in c&&t(10,u=c.initialCurator)},o.$$.update=()=>{o.$$.dirty&256&&t(2,a=l.map(c=>{var g;return{...c,minDate:$e((g=c.PlantDates)==null?void 0:g.map(m=>m.Date))}}).sort((c,g)=>c.minDate-g.minDate)),o.$$.dirty&1028&&t(3,n=u||(a.length>0?a[0].CuratorName:""))},[s,i,a,n,_,p,j,P,l,r,u,y,C]}class tt extends Q{constructor(e){super(),J(this,e,et,xe,X,{minYear:0,maxYear:1,curatorData:8,curatorInfoData:9,initialCurator:10})}}function Ye(o){let e,t,a,n,s,i;return a=new We({props:{data:o[0],currentYear:o[3],selectedCuratorData:o[6],minYear:o[4],maxYear:o[5],projection:o[7]}}),s=new tt({props:{curatorData:o[1],curatorInfoData:o[2],minYear:o[4],maxYear:o[5]}}),s.$on("curatorChange",o[8]),{c(){e=A("div"),t=A("div"),le(a.$$.fragment),n=T(),le(s.$$.fragment),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=D(e);t=I(r,"DIV",{class:!0});var u=D(t);ae(a.$$.fragment,u),u.forEach(d),n=S(r),ae(s.$$.fragment,r),r.forEach(d),this.h()},h(){f(t,"class","main svelte-1tjw1ao"),f(e,"class","container svelte-1tjw1ao")},m(l,r){k(l,e,r),v(e,t),te(a,t,null),v(e,n),te(s,e,null),i=!0},p(l,r){const u={};r&1&&(u.data=l[0]),r&8&&(u.currentYear=l[3]),r&64&&(u.selectedCuratorData=l[6]),r&16&&(u.minYear=l[4]),r&32&&(u.maxYear=l[5]),r&128&&(u.projection=l[7]),a.$set(u);const h={};r&2&&(h.curatorData=l[1]),r&4&&(h.curatorInfoData=l[2]),r&16&&(h.minYear=l[4]),r&32&&(h.maxYear=l[5]),s.$set(h)},i(l){i||(R(a.$$.fragment,l),R(s.$$.fragment,l),i=!0)},o(l){G(a.$$.fragment,l),G(s.$$.fragment,l),i=!1},d(l){l&&d(e),ee(a),ee(s)}}}function at(o){let e,t,a=o[0].length>0&&o[1].length>0&&o[2].length>0&&o[7]&&Ye(o);return{c(){a&&a.c(),e=O()},l(n){a&&a.l(n),e=O()},m(n,s){a&&a.m(n,s),k(n,e,s),t=!0},p(n,[s]){n[0].length>0&&n[1].length>0&&n[2].length>0&&n[7]?a?(a.p(n,s),s&135&&R(a,1)):(a=Ye(n),a.c(),R(a,1),a.m(e.parentNode,e)):a&&(Be(),G(a,1,1,()=>{a=null}),Le())},i(n){t||(R(a),t=!0)},o(n){G(a),t=!1},d(n){n&&d(e),a&&a.d(n)}}}let lt=1e3,rt=800;function nt(o,e,t){let a=[],n=[],s=[],i=2011,l,r,u=null,h=[],_=null;ne(async()=>{const j=await fetch("data/ArnArbPlantsinfo.json");t(0,a=await j.json()),t(4,l=Math.min(...a.map(g=>parseInt(g.ACC_YR)))),t(5,r=Math.max(...a.map(g=>parseInt(g.ACC_YR)))),t(3,i=r);const P=await fetch("data/Curator_Plants_Dates.json");t(1,n=await P.json()),n.length>0&&t(6,u=n[0]);const y=await fetch("data/Curatorinfo.json");t(2,s=await y.json()),console.log(s),h=(await(await fetch("map/grid_3px.geojson")).json()).features,t(7,_=Te().fitExtent([[0,0],[lt,rt]],{type:"FeatureCollection",features:h}))});function p(j){t(6,u=j.detail.selectedCuratorData)}return[a,n,s,i,l,r,u,_,p]}class ct extends Q{constructor(e){super(),J(this,e,nt,at,X,{})}}export{ct as component};
