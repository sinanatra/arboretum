import{s as X,n as $,d,i as C,p as O,r as re,O as Y,h as D,P as N,x as f,Q as ie,R as se,e as v,v as Me,z as qe,f as I,l as A,y as ce,k as S,j as z,m as T,t as F,S as ze,T as ue,U as Fe,b as V}from"../chunks/Cxw3WnS6.js";import{S as Q,i as J,d as ee,t as G,a as R,m as te,e as ae,b as le,c as Le,g as Be}from"../chunks/CGTxhxGg.js";import{i as Re,e as q,u as Ne,d as Ie,a as fe,z as Se,s as he,m as Te}from"../chunks/CcNL7MI7.js";function _e(i,e,t){const a=i.slice();return a[3]=e[t],a[5]=t,a}function ge(i){let e,t=[],a=new Map,n=q(i[0]);const s=o=>o[3].id||o[5];for(let o=0;o<n.length;o+=1){let l=_e(i,n,o),r=s(l);a.set(r,t[o]=de(r,l))}return{c(){e=N("g");for(let o=0;o<t.length;o+=1)t[o].c()},l(o){e=Y(o,"g",{});var l=D(e);for(let r=0;r<t.length;r+=1)t[r].l(l);l.forEach(d)},m(o,l){C(o,e,l);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(o,l){l&3&&(n=q(o[0]),t=Ne(t,l,s,1,o,n,a,e,Ie,de,null,_e))},d(o){o&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function de(i,e){let t,a,n;return{key:i,first:null,c(){t=N("path"),this.h()},l(s){t=Y(s,"path",{d:!0,class:!0}),D(t).forEach(d),this.h()},h(){f(t,"d",a=e[1](e[3])),f(t,"class",n=ie("pixel "+e[3].properties.type)+" svelte-vrt0xx"),this.first=t},m(s,o){C(s,t,o)},p(s,o){e=s,o&3&&a!==(a=e[1](e[3]))&&f(t,"d",a),o&1&&n!==(n=ie("pixel "+e[3].properties.type)+" svelte-vrt0xx")&&f(t,"class",n)},d(s){s&&d(t)}}}function Ue(i){let e,t=i[0]&&i[1]&&ge(i);return{c(){t&&t.c(),e=O()},l(a){t&&t.l(a),e=O()},m(a,n){t&&t.m(a,n),C(a,e,n)},p(a,[n]){a[0]&&a[1]?t?t.p(a,n):(t=ge(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:$,o:$,d(a){a&&d(e),t&&t.d(a)}}}function Ve(i,e,t){let{projection:a}=e,n=null,s=null;return re(async()=>{try{const l=await(await fetch("map/grid_5px.geojson")).json();t(0,n=l.features),t(1,s=Re().projection(a))}catch(o){console.error("Error loading map:",o)}}),i.$$set=o=>{"projection"in o&&t(2,a=o.projection)},[n,s,a]}class Oe extends Q{constructor(e){super(),J(this,e,Ve,Ue,X,{projection:2})}}function me(i,e,t){const a=i.slice();return a[14]=e[t],a}function pe(i){let e,t,a,n,s,o;return{c(){e=N("circle"),this.h()},l(l){e=Y(l,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"fill-opacity":!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"cx",t=i[14].x),f(e,"cy",a=i[14].y),f(e,"r",n=i[14].radius),f(e,"fill",s=i[5](i[14].avgYear)),f(e,"fill-opacity",o=i[3].length?i[3].includes(i[14])?1:.4:1),f(e,"class","dot svelte-4aocx0")},m(l,r){C(l,e,r)},p(l,r){r&4&&t!==(t=l[14].x)&&f(e,"cx",t),r&4&&a!==(a=l[14].y)&&f(e,"cy",a),r&4&&n!==(n=l[14].radius)&&f(e,"r",n),r&4&&s!==(s=l[5](l[14].avgYear))&&f(e,"fill",s),r&12&&o!==(o=l[3].length?l[3].includes(l[14])?1:.4:1)&&f(e,"fill-opacity",o)},d(l){l&&d(e)}}}function Ge(i){let e,t,a,n,s;a=new Oe({props:{projection:i[0]}});let o=q(i[2]),l=[];for(let r=0;r<o.length;r+=1)l[r]=pe(me(i,o,r));return{c(){e=N("svg"),t=N("g"),le(a.$$.fragment);for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=Y(r,"svg",{class:!0});var h=D(e);t=Y(h,"g",{transform:!0});var u=D(t);ae(a.$$.fragment,u);for(let _=0;_<l.length;_+=1)l[_].l(u);u.forEach(d),h.forEach(d),this.h()},h(){f(t,"transform",n="translate("+i[4].x+", "+i[4].y+") scale("+i[4].k+")"),f(e,"class","svelte-4aocx0")},m(r,h){C(r,e,h),v(e,t),te(a,t,null);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);i[9](e),s=!0},p(r,[h]){const u={};if(h&1&&(u.projection=r[0]),a.$set(u),h&44){o=q(r[2]);let _;for(_=0;_<o.length;_+=1){const p=me(r,o,_);l[_]?l[_].p(p,h):(l[_]=pe(p),l[_].c(),l[_].m(t,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=o.length}(!s||h&16&&n!==(n="translate("+r[4].x+", "+r[4].y+") scale("+r[4].k+")"))&&f(t,"transform",n)},i(r){s||(R(a.$$.fragment,r),s=!0)},o(r){G(a.$$.fragment,r),s=!1},d(r){r&&d(e),ee(a),se(l,r),i[9](null)}}}const B=4;function He(i,e,t){let{data:a=[]}=e,{currentYear:n}=e,{selectedCuratorData:s=null}=e,{projection:o}=e,l,r=[],h=[],u=fe,_;const p=B/2;function j(){if(!a||!l||!o||n===void 0)return[];const c=new Map;a.forEach((m,y)=>{const b=parseFloat(m.LONGITUDE),M=parseFloat(m.LATITUDE),E=parseInt(m.ACC_YR);if(isNaN(b)||isNaN(M)||isNaN(E))return;const[U,K]=o([b,M]);if(!U||!K)return;const Z=Math.floor(U/B),x=Math.floor(K/B),H=`${Z}-${x}`,ne=Z*B+B/2,L=x*B+B/2,W=Math.max(0,n-E),Ae=Math.min(W/100,1),Pe=Math.max(.5,Ae*p),oe={accYear:E,radius:Pe,plantID:m.PLANTID?String(m.PLANTID).toLowerCase():String(y)};c.has(H)?c.get(H).records.push(oe):c.set(H,{x:ne,y:L,records:[oe]})});const g=[];for(const[m,y]of c.entries()){const{x:b,y:M,records:E}=y,U=E.length,K=E.reduce((L,W)=>L+W.radius,0),Z=E.reduce((L,W)=>L+W.accYear,0),x=K/U,H=Math.floor(Z/U),ne=E.map(L=>L.plantID);g.push({id:m,x:b,y:M,avgYear:H,radius:x,plantIDs:ne,count:U})}return g}re(async()=>{if(await Me(),!l)return;_=Se().scaleExtent([2,14]).on("zoom",E=>{t(4,u=E.transform)}),he(l).call(_);const c=l.clientWidth,g=l.clientHeight,m=2,y=c/2-m*(c/2.8),b=g/2-m*(g/2.2),M=fe.translate(y,b).scale(m);he(l).call(_.transform,M),t(4,u=M)});const P={"1870s":"#154406","1880s":"#2E5912","1890s":"#4A6F1D","1900s":"#67862A","1910s":"#839E38","1920s":"#9FB748","1930s":"#BCCF5A","1940s":"#DAC86A","1950s":"#F5B94F","1960s":"#E0963C","1970s":"#C06B2B","1980s":"#A34826","1990s":"#883421","2000s":"#6E241D","2010s":"#541916",Unknown:"#A0A0A0"};function w(c){if(!c||isNaN(c))return P.Unknown;const g=`${Math.floor(c/10)*10}s`;return P[g]||P.Unknown}function k(c){qe[c?"unshift":"push"](()=>{l=c,t(1,l)})}return i.$$set=c=>{"data"in c&&t(6,a=c.data),"currentYear"in c&&t(7,n=c.currentYear),"selectedCuratorData"in c&&t(8,s=c.selectedCuratorData),"projection"in c&&t(0,o=c.projection)},i.$$.update=()=>{if(i.$$.dirty&194&&a&&l&&n!==void 0&&t(2,r=j()),i.$$.dirty&260)if(s!=null&&s.PlantDates){const c=[],g=[...s.PlantDates].sort((m,y)=>m.Date-y.Date);for(const m of g){const y=String(m.PlantID).toLowerCase(),b=r.find(M=>{var E;return(E=M.plantIDs)==null?void 0:E.includes(y)});b&&!c.includes(b)&&c.push(b)}t(3,h=c)}else t(3,h=[])},[o,l,r,h,u,w,a,n,s,k]}class We extends Q{constructor(e){super(),J(this,e,He,Ge,X,{data:6,currentYear:7,selectedCuratorData:8,projection:0})}}function ve(i,e,t){const a=i.slice();return a[2]=e[t],a}function De(i){let e,t,a,n,s=i[2]+"",o,l;return{c(){e=A("div"),t=A("div"),a=T(),n=A("span"),o=F(s),l=T(),this.h()},l(r){e=I(r,"DIV",{class:!0});var h=D(e);t=I(h,"DIV",{class:!0,style:!0}),D(t).forEach(d),a=S(h),n=I(h,"SPAN",{class:!0});var u=D(n);o=z(u,s),u.forEach(d),l=S(h),h.forEach(d),this.h()},h(){f(t,"class","color-box svelte-uqwyjj"),ce(t,"background-color",i[0][i[2]]),f(n,"class","label svelte-uqwyjj"),f(e,"class","swatch-row svelte-uqwyjj")},m(r,h){C(r,e,h),v(e,t),v(e,a),v(e,n),v(n,o),v(e,l)},p(r,h){h&1&&ce(t,"background-color",r[0][r[2]])},d(r){r&&d(e)}}}function Xe(i){let e,t,a=q(i[1]),n=[];for(let s=0;s<a.length;s+=1)n[s]=De(ve(i,a,s));return{c(){e=A("div"),t=A("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=I(s,"DIV",{class:!0});var o=D(e);t=I(o,"DIV",{class:!0});var l=D(t);for(let r=0;r<n.length;r+=1)n[r].l(l);l.forEach(d),o.forEach(d),this.h()},h(){f(t,"class","color-swatch-section svelte-uqwyjj"),f(e,"class","legend-container svelte-uqwyjj")},m(s,o){C(s,e,o),v(e,t);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(s,[o]){if(o&3){a=q(s[1]);let l;for(l=0;l<a.length;l+=1){const r=ve(s,a,l);n[l]?n[l].p(r,o):(n[l]=De(r),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=a.length}},i:$,o:$,d(s){s&&d(e),se(n,s)}}}function Qe(i,e,t){let{clusterColorMapping:a}=e;const n=Object.keys(a);return i.$$set=s=>{"clusterColorMapping"in s&&t(0,a=s.clusterColorMapping)},[a,n]}class Je extends Q{constructor(e){super(),J(this,e,Qe,Xe,X,{clusterColorMapping:0})}}function Ce(i,e,t){const a=i.slice();return a[14]=e[t],a}function ke(i,e,t){const a=i.slice();return a[21]=e[t],a}function Ke(i){const e=i.slice(),t=e[14].PlantDates.reduce((o,l)=>{const r=l.Date;return o[r]=(o[r]||0)+1,o},{});e[17]=t;const a=Object.entries(e[17]).sort((o,l)=>o[0]-l[0]);e[18]=a;const n=Math.max(...e[18].map(([o,l])=>l));e[19]=n;const s=e[18].map(function(...l){return i[11](e[19],...l)}).join(" ");return e[20]=s,e}function be(i){let e,t=i[14].CuratorName+"",a,n,s,o=i[6](i[14].CuratorName)+"",l;return{c(){e=A("p"),a=F(t),n=T(),s=A("p"),l=F(o),this.h()},l(r){e=I(r,"P",{class:!0});var h=D(e);a=z(h,t),h.forEach(d),n=S(r),s=I(r,"P",{class:!0});var u=D(s);l=z(u,o),u.forEach(d),this.h()},h(){f(e,"class","curator-name svelte-bqdjus"),f(s,"class","curator-info svelte-bqdjus")},m(r,h){C(r,e,h),v(e,a),C(r,n,h),C(r,s,h),v(s,l)},p(r,h){h&4&&t!==(t=r[14].CuratorName+"")&&V(a,t),h&4&&o!==(o=r[6](r[14].CuratorName)+"")&&V(l,o)},d(r){r&&(d(e),d(n),d(s))}}}function je(i){let e,t,a,n,s,o,l,r=i[14].PlantDates.length+"",h,u,_=i[14].PlantDates.length===1?"":"s",p;function j(c,g){return c[14].PlantDates.length>1?ye:Ze}function P(c,g){return g===ye?Ke(c):c}let w=j(i),k=w(P(i,w));return{c(){e=N("svg"),t=N("line"),k.c(),a=N("text"),n=F(i[0]),s=N("text"),o=F(i[1]),l=N("text"),h=F(r),u=F(" annotation"),p=F(_),this.h()},l(c){e=Y(c,"svg",{class:!0,width:!0,height:!0});var g=D(e);t=Y(g,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),D(t).forEach(d),k.l(g),a=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,class:!0});var m=D(a);n=z(m,i[0]),m.forEach(d),s=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var y=D(s);o=z(y,i[1]),y.forEach(d),l=Y(g,"text",{x:!0,y:!0,"font-size":!0,fill:!0,"text-anchor":!0,class:!0});var b=D(l);h=z(b,r),u=z(b," annotation"),p=z(b,_),b.forEach(d),g.forEach(d),this.h()},h(){f(t,"x1","10"),f(t,"y1","12"),f(t,"x2","310"),f(t,"y2","12"),f(t,"stroke","#ccc"),f(t,"stroke-width","1"),f(t,"class","svelte-bqdjus"),f(a,"x","10"),f(a,"y","8"),f(a,"font-size","8"),f(a,"fill","#333"),f(a,"class","svelte-bqdjus"),f(s,"x","310"),f(s,"y","8"),f(s,"font-size","8"),f(s,"fill","#333"),f(s,"text-anchor","end"),f(s,"class","svelte-bqdjus"),f(l,"x","160"),f(l,"y","23"),f(l,"font-size","8"),f(l,"fill","#333"),f(l,"text-anchor","middle"),f(l,"class","svelte-bqdjus"),f(e,"class","histogram svelte-bqdjus"),f(e,"width","320"),f(e,"height","25")},m(c,g){C(c,e,g),v(e,t),k.m(e,null),v(e,a),v(a,n),v(e,s),v(s,o),v(e,l),v(l,h),v(l,u),v(l,p)},p(c,g){w===(w=j(c))&&k?k.p(P(c,w),g):(k.d(1),k=w(P(c,w)),k&&(k.c(),k.m(e,a))),g&1&&V(n,c[0]),g&2&&V(o,c[1]),g&4&&r!==(r=c[14].PlantDates.length+"")&&V(h,r),g&4&&_!==(_=c[14].PlantDates.length===1?"":"s")&&V(p,_)},d(c){c&&d(e),k.d()}}}function Ze(i){let e,t=q(i[14].PlantDates),a=[];for(let n=0;n<t.length;n+=1)a[n]=we(ke(i,t,n));return{c(){for(let n=0;n<a.length;n+=1)a[n].c();e=O()},l(n){for(let s=0;s<a.length;s+=1)a[s].l(n);e=O()},m(n,s){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(n,s);C(n,e,s)},p(n,s){if(s&36){t=q(n[14].PlantDates);let o;for(o=0;o<t.length;o+=1){const l=ke(n,t,o);a[o]?a[o].p(l,s):(a[o]=we(l),a[o].c(),a[o].m(e.parentNode,e))}for(;o<a.length;o+=1)a[o].d(1);a.length=t.length}},d(n){n&&d(e),se(a,n)}}}function ye(i){let e,t;return{c(){e=N("polyline"),this.h()},l(a){e=Y(a,"polyline",{fill:!0,stroke:!0,"stroke-width":!0,points:!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"fill","none"),f(e,"stroke","blue"),f(e,"stroke-width","1"),f(e,"points",t=i[20]),f(e,"class","svelte-bqdjus")},m(a,n){C(a,e,n)},p(a,n){n&4&&t!==(t=a[20])&&f(e,"points",t)},d(a){a&&d(e)}}}function we(i){let e,t;return{c(){e=N("circle"),this.h()},l(a){e=Y(a,"circle",{cx:!0,cy:!0,r:!0,class:!0}),D(e).forEach(d),this.h()},h(){f(e,"cx",t=i[5](i[21].Date)),f(e,"cy","12"),f(e,"r","1"),f(e,"class","svelte-bqdjus")},m(a,n){C(a,e,n)},p(a,n){n&4&&t!==(t=a[5](a[21].Date))&&f(e,"cx",t)},d(a){a&&d(e)}}}function Ee(i,e){let t,a,n,s,o,l=e[14].CuratorName===e[3]&&be(e),r=e[14].PlantDates&&e[14].PlantDates.length>0&&je(e);function h(){return e[12](e[14])}return{key:i,first:null,c(){t=A("li"),l&&l.c(),a=T(),r&&r.c(),n=T(),this.h()},l(u){t=I(u,"LI",{class:!0});var _=D(t);l&&l.l(_),a=S(_),r&&r.l(_),n=S(_),_.forEach(d),this.h()},h(){f(t,"class","svelte-bqdjus"),ue(t,"selected",e[14].CuratorName===e[3]),this.first=t},m(u,_){C(u,t,_),l&&l.m(t,null),v(t,a),r&&r.m(t,null),v(t,n),s||(o=Fe(t,"click",h),s=!0)},p(u,_){e=u,e[14].CuratorName===e[3]?l?l.p(e,_):(l=be(e),l.c(),l.m(t,a)):l&&(l.d(1),l=null),e[14].PlantDates&&e[14].PlantDates.length>0?r?r.p(e,_):(r=je(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),_&12&&ue(t,"selected",e[14].CuratorName===e[3])},d(u){u&&d(t),l&&l.d(),r&&r.d(),s=!1,o()}}}function xe(i){let e,t,a,n,s=[],o=new Map,l;t=new Je({props:{clusterColorMapping:i[7]}});let r=q(i[2]);const h=u=>u[14].CuratorName;for(let u=0;u<r.length;u+=1){let _=Ce(i,r,u),p=h(_);o.set(p,s[u]=Ee(p,_))}return{c(){e=A("aside"),le(t.$$.fragment),a=T(),n=A("ul");for(let u=0;u<s.length;u+=1)s[u].c();this.h()},l(u){e=I(u,"ASIDE",{class:!0});var _=D(e);ae(t.$$.fragment,_),a=S(_),n=I(_,"UL",{class:!0});var p=D(n);for(let j=0;j<s.length;j+=1)s[j].l(p);p.forEach(d),_.forEach(d),this.h()},h(){f(n,"class","svelte-bqdjus"),f(e,"class","curator-sidebar svelte-bqdjus")},m(u,_){C(u,e,_),te(t,e,null),v(e,a),v(e,n);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);l=!0},p(u,[_]){_&127&&(r=q(u[2]),s=Ne(s,_,h,1,u,r,o,n,Ie,Ee,null,Ce))},i(u){l||(R(t.$$.fragment,u),l=!0)},o(u){G(t.$$.fragment,u),l=!1},d(u){u&&d(e),ee(t);for(let _=0;_<s.length;_+=1)s[_].d()}}}function $e(i){return i&&i.length>0?Math.min(...i):1/0}function et(i,e,t){let a,n,{minYear:s}=e,{maxYear:o}=e,{curatorData:l=[]}=e,{curatorInfoData:r=[]}=e,{initialCurator:h=""}=e;const u=ze();function _(c){t(3,n=c);const g=l.find(m=>m.CuratorName.toLowerCase()===c.toLowerCase());u("curatorChange",{selectedCuratorData:g})}function p(c){return o===s?160:10+(c-s)/(o-s)*300}function j(c){const g=r.find(m=>m.Name.toLowerCase()===c.toLowerCase());return(g==null?void 0:g.Information)||""}const P={"1870s":"#154406","1880s":"#2E5912","1890s":"#4A6F1D","1900s":"#67862A","1910s":"#839E38","1920s":"#9FB748","1930s":"#BCCF5A","1940s":"#DAC86A","1950s":"#F5B94F","1960s":"#E0963C","1970s":"#C06B2B","1980s":"#A34826","1990s":"#883421","2000s":"#6E241D","2010s":"#541916",Unknown:"#A0A0A0"},w=(c,[g,m])=>{const y=p(+g),M=12-(6+m/c*6);return`${y},${M}`},k=c=>_(c.CuratorName);return i.$$set=c=>{"minYear"in c&&t(0,s=c.minYear),"maxYear"in c&&t(1,o=c.maxYear),"curatorData"in c&&t(8,l=c.curatorData),"curatorInfoData"in c&&t(9,r=c.curatorInfoData),"initialCurator"in c&&t(10,h=c.initialCurator)},i.$$.update=()=>{i.$$.dirty&256&&t(2,a=l.map(c=>{var g;return{...c,minDate:$e((g=c.PlantDates)==null?void 0:g.map(m=>m.Date))}}).sort((c,g)=>c.minDate-g.minDate)),i.$$.dirty&1028&&t(3,n=h||(a.length>0?a[0].CuratorName:""))},[s,o,a,n,_,p,j,P,l,r,h,w,k]}class tt extends Q{constructor(e){super(),J(this,e,et,xe,X,{minYear:0,maxYear:1,curatorData:8,curatorInfoData:9,initialCurator:10})}}function Ye(i){let e,t,a,n,s,o;return a=new We({props:{data:i[0],currentYear:i[3],selectedCuratorData:i[6],minYear:i[4],maxYear:i[5],projection:i[7]}}),s=new tt({props:{curatorData:i[1],curatorInfoData:i[2],minYear:i[4],maxYear:i[5]}}),s.$on("curatorChange",i[8]),{c(){e=A("div"),t=A("div"),le(a.$$.fragment),n=T(),le(s.$$.fragment),this.h()},l(l){e=I(l,"DIV",{class:!0});var r=D(e);t=I(r,"DIV",{class:!0});var h=D(t);ae(a.$$.fragment,h),h.forEach(d),n=S(r),ae(s.$$.fragment,r),r.forEach(d),this.h()},h(){f(t,"class","main svelte-1tjw1ao"),f(e,"class","container svelte-1tjw1ao")},m(l,r){C(l,e,r),v(e,t),te(a,t,null),v(e,n),te(s,e,null),o=!0},p(l,r){const h={};r&1&&(h.data=l[0]),r&8&&(h.currentYear=l[3]),r&64&&(h.selectedCuratorData=l[6]),r&16&&(h.minYear=l[4]),r&32&&(h.maxYear=l[5]),r&128&&(h.projection=l[7]),a.$set(h);const u={};r&2&&(u.curatorData=l[1]),r&4&&(u.curatorInfoData=l[2]),r&16&&(u.minYear=l[4]),r&32&&(u.maxYear=l[5]),s.$set(u)},i(l){o||(R(a.$$.fragment,l),R(s.$$.fragment,l),o=!0)},o(l){G(a.$$.fragment,l),G(s.$$.fragment,l),o=!1},d(l){l&&d(e),ee(a),ee(s)}}}function at(i){let e,t,a=i[0].length>0&&i[1].length>0&&i[2].length>0&&i[7]&&Ye(i);return{c(){a&&a.c(),e=O()},l(n){a&&a.l(n),e=O()},m(n,s){a&&a.m(n,s),C(n,e,s),t=!0},p(n,[s]){n[0].length>0&&n[1].length>0&&n[2].length>0&&n[7]?a?(a.p(n,s),s&135&&R(a,1)):(a=Ye(n),a.c(),R(a,1),a.m(e.parentNode,e)):a&&(Be(),G(a,1,1,()=>{a=null}),Le())},i(n){t||(R(a),t=!0)},o(n){G(a),t=!1},d(n){n&&d(e),a&&a.d(n)}}}let lt=1e3,nt=800;function rt(i,e,t){let a=[],n=[],s=[],o=2011,l,r,h=null,u=[],_=null;re(async()=>{const j=await fetch("data/ArnArbPlantsinfo.json");t(0,a=await j.json()),t(4,l=Math.min(...a.map(g=>parseInt(g.ACC_YR)))),t(5,r=Math.max(...a.map(g=>parseInt(g.ACC_YR)))),t(3,o=r);const P=await fetch("data/Curator_Plants_Dates.json");t(1,n=await P.json()),n.length>0&&t(6,h=n[0]);const w=await fetch("data/Curatorinfo.json");t(2,s=await w.json()),console.log(s),u=(await(await fetch("map/grid_3px.geojson")).json()).features,t(7,_=Te().fitExtent([[0,0],[lt,nt]],{type:"FeatureCollection",features:u}))});function p(j){t(6,h=j.detail.selectedCuratorData)}return[a,n,s,o,l,r,h,_,p]}class ct extends Q{constructor(e){super(),J(this,e,rt,at,X,{})}}export{ct as component};
